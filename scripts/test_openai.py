import os
import openai
from dotenv import load_dotenv

load_dotenv("/workspaces/mlb-data-pipeline/.env")  # reads .env
openai.api_key = os.getenv("OPENAI_API_KEY")

messages = [
  {"role": "system", "content": "You are a helpful MLB baseball analyst."},
  {"role": "user", "content": "Summarize this article: [Will Leitch There are regular-season baseball gamesnext week.Can you believe it? You have made it. You haveearnedit. A full two months have passed sinceour most recent power rankings, and, it\u2019s fair to say, a lot has happened since then. So with theTokyo Series between the Cubs and Dodgersstarting in just three days, it\u2019s time to celebrate the impending start of the season with the final power rankings before first pitch. And once the season gets going, we\u2019ll be back to our regular weekly schedule. These rankings, as always, are compiled from MLB.com contributors whose names you can find at the bottom of this (and every) piece, but the words are mine. If you dislike the rankings, yell at all of us. But if you dislike the words, feel free toyell at me. And we\u2019ll see you bright and early Tuesday morning. 1. Dodgers (Previous poll: 1)The Roki Sasaki show is about to begin. The 23-year-oldflashed his sky-high potentialduring Spring Training, with his splitter in particularlooking like an elite weapon. But now comes the real test, with Sasaki expected to take the mound tostart Game 2 of the Tokyo Series. Can he rise to the occasion in his home country? 2. Phillies(2)It\u2019s fair to say that the Taijuan Walker deal hasn\u2019t turned out the way the Phillies had hoped when they signed him for four years and $72 million after the 2022 season. But his performance this spring has been a revelation: Velocity is up, walks are down,everyone\u2019s excited: He could even find his way back into the rotation at some point. 3. Braves (5)Spencer Strider\u2019s return has been pegged for the end of April for a while now, but he is a rehabbing pitcher, and it\u2019s notoriously difficult to keep those guys on schedule. That\u2019s why it is terrific news thatall is going according to plan: \u201cI think it\u2019s been a really seamless process so far,\u201d he said. 4. Mets(4)The injury to Francisco Alvarezwas a bummer, but he should be back by May and is still only 23 years old. There\u2019s no way a broken hamate bone is going to douse all the good vibes in Mets camp this spring. 5. Orioles (7)Grayson Rodriguez\u2019s right elbow injury, which willkeep him out for the beginning of the seasonafter he got a cortisone shot, is the sort of thing that is going to make Orioles fans particularly nervous and frustrated. The rotation, a source of concern already, is now even thinner. Sign up to receive our dailyMorning Lineupto stay in the know about the latest trending topics around Major League Baseball. 6. Diamondbacks (8)Fair to say that Jordan Montgomery\u2019s lone Cactus League start this spring didn\u2019t go the way everyone was hoping: He gave up five runs in one-third of an inning on March 8. He is less concerned than everyone else, though, saying his injured finger felt fine and encouraging himself to \u201ctake a chill pill and relax.\u201d 7. Red Sox (15)Take it with it all the salt you want -- and it\u2019s totally fair if any Red Sox fan is skeptical -- but it should be said thatTrevor Story has looked healthy and quite solidso far in camp. For a player many have already written off, a comeback tale would be awfully exciting. 8. Yankees (3)It has, obviously, been adisastrous spring for the Yankees, with the injuries to Gerrit Cole, Luis Gil, DJ LeMahieu and Giancarlo Stanton, and their drop in these rankings reflects that. It should still be noted that everyone was all doom and gloom about the Yankees right before last season started, too, and they reached the World Series. Of course, they had Juan Soto then. 9. Padres (6)The Padres\u2019 quiet offseason, and some off-field tumult, have many people wondering if their late 2024 run was a blip.In our annual World Series contenders draft, my colleague Mike Petriello and I were obviously concerned: San Diego fell all the way to17th. 10. Rangers(16)Kumar Rocker got off to a miserable start this spring, giving up eight runs in two innings over his first two Cactus League outings, but that\u2019s all part of the process. Atrip to the Rangers' pitching lab has everybody feeling better. \u201cHe's going to be a big part of our team this season,\u201d president of baseball operations Chris Young said. 11. Astros(9)Christian Walker\u2019s sore left oblique had the Astros sweating, butwhen they got his MRI results, everyone breathed a sigh of relief. Even Walker said his oblique, which cost him a month of last season, felt much better now than it did at any point then. Considering how many other corner infield options the Astros had on the table this offseason, they sure would like to be able to get Walker out there every day. 12. Brewers (10)Nestor Cortes seems destined to be a popular Brewer, and he has already shown his human side this spring. He\u2019s aboutto become a father for the first time. \u201cI have to be on high alert,\u201d he says. 13. Cubs (13)How about some love for the Pete Crow-Armstrong bobblehead the Cubs will be giving away on April 19? Fittingly, the bobblehead has run so fast that his helmet has fallen off. (The helmet is nevertheless included.) 14. Tigers (11)Is Jackson Jobe going to make the Opening Day rotation? Our Tigers beat reporter Jason Becksure thinks so. This could end up being one of the more fun early-season stories in baseball. 15. Royals (14)Jac Caglianone isn\u2019t going to be on the Royals\u2019 Opening Day roster, but let there be no doubt: He may be the guy Royals fans remember most from this camp.Homers that go 444 feet tend to stick in the memory. (So do season-altering injuries to franchise cornerstones, but fortunately, Bobby Witt Jr.seems to have avoided oneafter taking a 96 mph fastball off his left forearm on Wednesday.) 16. Guardians(12)All of this team\u2019s success in 2024 came despite persistent issues in the starting rotation, one of which was Gavin Williams\u2019 regression following a highly promising rookie season. But the 25-year-oldhas dazzled this springand looks to be on the path toward a significant rebound. 17. Mariners(17)It was good to see Julio Rodr\u00edguez smash a grand slam on Wednesday -- even if he accidentallypointed at the wrong bullpenin celebration. Slow starts to the season have been a theme for J-Rod in his young career -- he\u2019s got a .642 OPS in the opening month and .740 in the first half -- but the Mariners can\u2019t afford another one in 2025. 18. Twins(18)You may have thought the job of manager was complicated, but you still didn\u2019t realize that part of the job was bringing in llamas, did you? Twins manager Rocco Baldelliorganized a petting zoo for players and their families on Monday. \"In Spring Training, you like to come up with just a couple of ideas to mix things up for the guys,\" Baldelli said. Llamas definitely count as \u201cmixing it up.\u201d 19. Reds (21)Noelvi Marte has, fair to say, had a rough 12-month span, culminating in himbeing sent back to Triple-A earlier this week. But new manager Terry Francona still believes in him: \u201cHe did a really good job. He needs repetition,\" Francona said. \"I thought from a work ethic standpoint, he had a great camp.\u201d We\u2019ll see how long it takes him to get back to Cincinnati. 20. Blue Jays (23)MLB.com\u2019s Keegan Mathesonhad a great piece this weekon how healthy the Blue Jays have been this spring, which is the sort of thing that makes you want to knock on wood any time you dare say it out loud. The Jays still have depth issues, though, particularly in the bullpen now that Erik Swanson looks like he\u2019ll be out for a while. 21. Giants (19)You know who\u2019s enjoying himself this spring? Matt Chapman. Armed with that big new contract,Chapman has been raking. \u201cNow I just get to play and be a part of this team and organization for a long time,\u201d Chapman said. \u201cIt's the best thing that has ever happened to me in the baseball world.\u201d Sounds like a happy guy to me! 22. Athletics(24)I\u2019m not sure how optimistic you are about the Athletics in their first season in Sacramento, but you know whoisoptimistic? Other MLB players. In our survey, the A\u2019s were picked by playersas the team most likely to surprise in 2025. \u201cThey've got a really good group of young guys and they all seemed to enjoy each other,\" one player said. 23. Rays(20)After the Grapefruit League schedule ends, the Rays will have exactly 120 hours to turn George Steinbrenner Field from the Yankees\u2019 Spring Training site into their new home stadium for the regular season.This AP story about how they\u2019re going to do itis absolutely fascinating. \u201cBuilding the plane while you fly it,\u201d said Rays chief business officer Bill Walsh. 24. Cardinals(26)The Cardinals were relieved thatJordan Walker wasn\u2019t too banged upwhen he slipped on a sprinkler head in the outfield of a Spring Training game. He should be back to action soon and ready for Opening Day. There may be no player on the roster who is more important to what the Cardinals are trying to do over the next few years than Walker. 25. Nationals (25)Spring stats aren\u2019t worth much, but it should be noted: Dylan Crews and James Wood are both hitting the ball withconsiderableauthority this spring. The Nationals\u2019 future revolves around those guys as they look to become a force again in the NL East. 26. Pirates(22)A day after the Yankees had to deal with the aftermath of losing their ace, they had to watch the Pirates show just how grateful they are to have theirs. Paul Skenes struck out five in four innings against the Yankees on Tuesday andsure looks like he\u2019s in midseason form already. That\u2019s a guy who is very ready for the season to start. But hey, aren\u2019t we all? 27. Angels(27)If it\u2019s OK with you, I\u2019d like to just watch a Mike Trout spring homer. Mike Trout homering is something, as we\u2019ve learned in recent years, that should never be taken for granted. 28. Rockies(28)Ezequiel Tovar very much has the look of an emerging star. Agreat profile by MLB.com\u2019s Thomas Hardinglooked at the work that Tovar did in Venezuela this year, using soft squish baseballs that \u201cwon\u2019t break anything\u201d but helped Tovar pick up spin. Look out. 29. Marlins(29)Remember Matt Mervis? The former Cubs prospect may be the starting first baseman for the Marlins this year, and it should be noted that he\u2019s hitting the ball very hard this spring. 30. White Sox(30)It sure looks like Mart\u00edn P\u00e9rez is going to be making his first Opening Day start after 13 years in the Majors and 269 starts (and 314 games). Don\u2019t look too surprised: He did make it to the All-Star Game just two seasons ago. Voters: Jason Catania, Daniel Feldman, Doug Gausepohl, Sarah Langs, Will Leitch, Whitney McIntosh, Travis Miller, Brian Murphy, Arturo Pardavila, Andrew Simon, Zac Vierra, David Venn.]."}
]

response = openai.ChatCompletion.create(
  model="gpt-3.5-turbo",
  messages=messages,
  temperature=0.7,
  max_tokens=400
)

print(response["choices"][0]["message"]["content"])
